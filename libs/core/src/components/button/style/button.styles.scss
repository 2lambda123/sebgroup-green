@use './button.mixins.scss' as *;
@layer tokens, a11y, core, variants, sizes, sets, slotted;

@layer tokens {
  :host {
    @include tokens;
    @include containment;
  }

  :host(:not([slot])) {
    contain: layout;
    container-name: gds-button;
    container-type: inline-size;
    isolation: isolate;
    max-width: 20ch;
    width: auto;
  }
}

@layer a11y {
  // Accessability
  @include tokens-a11y;
}

@layer core {
  // Core
  button {
    @include core;
  }
}

@layer variants {
  // Variants

  :host([variant*='secondary']) button {
    @include secondary;
  }

  :host([variant*='tertiary']) button {
    @include tertiary;
  }

  :host([variant*='split']) {
    @include variant-split;
  }

  :host([variant*='circle']) {
    @include variant-circle;
  }
}

@layer sizes {
  // Sizes
  :host([size='small']) button {
    @include size-small;
  }

  :host([size='medium']) button {
    @include size-medium;
  }

  button,
  :host([size='large']) button {
    @include size-large;
  }
}

@layer sets {
  // Sets

  :host([variant='primary'][set='positive']) button,
  :host([variant='split primary'][set='positive']) button,
  :host([variant='circle primary'][set='positive']) button {
    @include primary-positive;
  }

  :host([variant='secondary'][set='positive']) button,
  :host([variant='split secondary'][set='positive']) button,
  :host([variant='circle secondary'][set='positive']) button {
    @include secondary-positive;
  }

  :host([variant='tertiary'][set='positive']) button,
  :host([variant='split tertiary'][set='positive']) button,
  :host([variant='circle tertiary'][set='positive']) button {
    @include tertiary-positive;
  }

  // negative
  :host([variant='primary'][set='negative']) button,
  :host([variant='split primary'][set='negative']) button,
  :host([variant='circle primary'][set='negative']) button {
    @include primary-negative;
  }

  :host([variant='secondary'][set='negative']) button,
  :host([variant='split secondary'][set='negative']) button,
  :host([variant='circle secondary'][set='negative']) button {
    @include secondary-negative;
  }

  :host([variant='tertiary'][set='negative']) button,
  :host([variant='split tertiary'][set='negative']) button,
  :host([variant='circle tertiary'][set='negative']) button {
    @include tertiary-negative;
  }
}

@layer slotted {
  // Slotted
  // ::slotted(svg) {
  // }
}
