import { Meta, Story, Canvas } from '@storybook/addon-docs'

export const Template = ({
  type,
  heading,
  content,
  link,
  button,
  primaryButton,
  closeButton,
}) => `
  <div role="alert" className="${type}">
    <i>
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
      <path fillRule="evenodd" clipRule="evenodd" d="M18.2857 4H5.71429C4.7675 4 4 4.7675 4 5.71429V18.2857C4 19.2325 4.7675 20 5.71429 20H18.2857C19.2325 20 20 19.2325 20 18.2857V5.71429C20 4.7675 19.2325 4 18.2857 4ZM10.8682 7.42857H13.1318C13.3777 7.42857 13.5731 7.635 13.5597 7.8805L13.2948 12.7376C13.2824 12.9649 13.0945 13.1429 12.8669 13.1429H11.1331C10.9055 13.1429 10.7176 12.9649 10.7052 12.7376L10.4402 7.8805C10.4269 7.635 10.6223 7.42857 10.8682 7.42857ZM12 17.0714C11.0927 17.0714 10.3571 16.3359 10.3571 15.4286C10.3571 14.5213 11.0927 13.7857 12 13.7857C12.9073 13.7857 13.6429 14.5213 13.6429 15.4286C13.6429 16.3359 12.9073 17.0714 12 17.0714Z" fill="#333333"/>
      </svg>
    </i>
    <div>
      ${heading ?
        `<h3>${heading}</h3>` : ''
      }
      <p>
        ${content}
        ${link ? `<a href="#">${link}</a>.` : ''}
      </p>
    </div>
    ${closeButton ? `<button className="close" type="button"><span className="sr-only">Close</span></button>` : ''}
    ${button || primaryButton  ?
    `<footer>
        ${button ? `<button type="button">${button}</button>` : ''}
        ${primaryButton ? `<button type="button" className="primary">${primaryButton}</button>` : ''}
     </footer>` : ''
    }
  </div>
`

<Meta
  title="Components/Alert"
  argTypes={{
    type: {
      control: 'select',
      options: ['success', 'warning', 'danger', '', 'info'],
    },
    heading: { control: 'text' },
    content: { control: 'text' },
    link: { control: 'text' },
    button: { control: 'text' },
    primaryButton: { control: 'text' },
    closeButton: { control: 'boolean' },
  }}
/>

<style>{`
  [role="alert"] + [role="alert"] {
    margin-top: 1.5rem;
  }`}
</style>

# Alert

<Story
    name="Alert"
    args={{
      type: '',
      heading: 'Success!',
      content: 'Text content',
      link: 'inline link',
      button: '',
      primaryButton: '',
      closeButton: false
    }}
  >
    {Template.bind({})}
</Story>

<br/>

## Variants

Alerts are available in a number of different variants based on the intent of the alert. Please note that the colors used in the examples below are not final yet.

<Canvas>
  <div role="alert">
    Neutral (no class)
  </div>
  <div role="alert" className="info">
    Info
  </div>
  <div role="alert" className="success">
    Success
  </div>
  <div role="alert" className="warning">
    Warning
  </div>
  <div role="alert" className="danger">
    Danger
  </div>
</Canvas>

## Element structure

Alerts can contain the following elements:

**Content**<br/>
Content should be placed inside `<div>...</div>` and may in turn contain a heading `<h1>, <h2>, <h3>, <h4>, <h5>` and a `<p>` with additional content like links etc.

**Close button**<br/>
`<button className="close">...</button>` if the alert is dismissible.

**Footer** (optional)<br/>
If the alert has actions like buttons or links they should be placed inside a `<footer>...</footer>`.

<Canvas>
  <div>
    <div role="alert">
      <i>
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path fillRule="evenodd" clipRule="evenodd" d="M18.2857 4H5.71429C4.7675 4 4 4.7675 4 5.71429V18.2857C4 19.2325 4.7675 20 5.71429 20H18.2857C19.2325 20 20 19.2325 20 18.2857V5.71429C20 4.7675 19.2325 4 18.2857 4ZM10.8682 7.42857H13.1318C13.3777 7.42857 13.5731 7.635 13.5597 7.8805L13.2948 12.7376C13.2824 12.9649 13.0945 13.1429 12.8669 13.1429H11.1331C10.9055 13.1429 10.7176 12.9649 10.7052 12.7376L10.4402 7.8805C10.4269 7.635 10.6223 7.42857 10.8682 7.42857ZM12 17.0714C11.0927 17.0714 10.3571 16.3359 10.3571 15.4286C10.3571 14.5213 11.0927 13.7857 12 13.7857C12.9073 13.7857 13.6429 14.5213 13.6429 15.4286C13.6429 16.3359 12.9073 17.0714 12 17.0714Z" fill="#333333"/>
        </svg>
      </i>
      <div>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </div>
      <button className="close"><span className="sr-only">Close</span></button>
    </div>
    <div role="alert" className="info">
      <i>
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path fillRule="evenodd" clipRule="evenodd" d="M18.2857 4H5.71429C4.7675 4 4 4.7675 4 5.71429V18.2857C4 19.2325 4.7675 20 5.71429 20H18.2857C19.2325 20 20 19.2325 20 18.2857V5.71429C20 4.7675 19.2325 4 18.2857 4ZM10.8682 7.42857H13.1318C13.3777 7.42857 13.5731 7.635 13.5597 7.8805L13.2948 12.7376C13.2824 12.9649 13.0945 13.1429 12.8669 13.1429H11.1331C10.9055 13.1429 10.7176 12.9649 10.7052 12.7376L10.4402 7.8805C10.4269 7.635 10.6223 7.42857 10.8682 7.42857ZM12 17.0714C11.0927 17.0714 10.3571 16.3359 10.3571 15.4286C10.3571 14.5213 11.0927 13.7857 12 13.7857C12.9073 13.7857 13.6429 14.5213 13.6429 15.4286C13.6429 16.3359 12.9073 17.0714 12 17.0714Z" fill="#333333"/>
        </svg>
      </i>
      <div>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </div>
      <button className="close"><span className="sr-only">Close</span></button>
    </div>
    <div role="alert" className="success">
      <i>
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path fillRule="evenodd" clipRule="evenodd" d="M18.2857 4H5.71429C4.7675 4 4 4.7675 4 5.71429V18.2857C4 19.2325 4.7675 20 5.71429 20H18.2857C19.2325 20 20 19.2325 20 18.2857V5.71429C20 4.7675 19.2325 4 18.2857 4ZM10.8682 7.42857H13.1318C13.3777 7.42857 13.5731 7.635 13.5597 7.8805L13.2948 12.7376C13.2824 12.9649 13.0945 13.1429 12.8669 13.1429H11.1331C10.9055 13.1429 10.7176 12.9649 10.7052 12.7376L10.4402 7.8805C10.4269 7.635 10.6223 7.42857 10.8682 7.42857ZM12 17.0714C11.0927 17.0714 10.3571 16.3359 10.3571 15.4286C10.3571 14.5213 11.0927 13.7857 12 13.7857C12.9073 13.7857 13.6429 14.5213 13.6429 15.4286C13.6429 16.3359 12.9073 17.0714 12 17.0714Z" fill="#333333"/>
        </svg>
      </i>
      <div>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </div>
      <footer>
        <button>Button</button>
      </footer>
    </div>
    <div role="alert" className="warning">
      <i>
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path fillRule="evenodd" clipRule="evenodd" d="M18.2857 4H5.71429C4.7675 4 4 4.7675 4 5.71429V18.2857C4 19.2325 4.7675 20 5.71429 20H18.2857C19.2325 20 20 19.2325 20 18.2857V5.71429C20 4.7675 19.2325 4 18.2857 4ZM10.8682 7.42857H13.1318C13.3777 7.42857 13.5731 7.635 13.5597 7.8805L13.2948 12.7376C13.2824 12.9649 13.0945 13.1429 12.8669 13.1429H11.1331C10.9055 13.1429 10.7176 12.9649 10.7052 12.7376L10.4402 7.8805C10.4269 7.635 10.6223 7.42857 10.8682 7.42857ZM12 17.0714C11.0927 17.0714 10.3571 16.3359 10.3571 15.4286C10.3571 14.5213 11.0927 13.7857 12 13.7857C12.9073 13.7857 13.6429 14.5213 13.6429 15.4286C13.6429 16.3359 12.9073 17.0714 12 17.0714Z" fill="#333333"/>
        </svg>
      </i>
      <div>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </div>
      <footer>
        <button>Button</button>
      </footer>
    </div>
    <div role="alert" className="danger">
      <i>
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path fillRule="evenodd" clipRule="evenodd" d="M18.2857 4H5.71429C4.7675 4 4 4.7675 4 5.71429V18.2857C4 19.2325 4.7675 20 5.71429 20H18.2857C19.2325 20 20 19.2325 20 18.2857V5.71429C20 4.7675 19.2325 4 18.2857 4ZM10.8682 7.42857H13.1318C13.3777 7.42857 13.5731 7.635 13.5597 7.8805L13.2948 12.7376C13.2824 12.9649 13.0945 13.1429 12.8669 13.1429H11.1331C10.9055 13.1429 10.7176 12.9649 10.7052 12.7376L10.4402 7.8805C10.4269 7.635 10.6223 7.42857 10.8682 7.42857ZM12 17.0714C11.0927 17.0714 10.3571 16.3359 10.3571 15.4286C10.3571 14.5213 11.0927 13.7857 12 13.7857C12.9073 13.7857 13.6429 14.5213 13.6429 15.4286C13.6429 16.3359 12.9073 17.0714 12 17.0714Z" fill="#333333"/>
        </svg>
      </i>
      <div>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </div>
      <footer>
        <button>Button</button>
      </footer>
    </div>
  </div>
</Canvas>

## Dismissable by close or action

The alert should either be dismissible by a close button or a button with an action tied to it. Don't include both since it causes confusion.

<Canvas>
  <div>
  <div role="alert" className="warning">
    <div>
      <h3>Warning!</h3>
      <p>
        Alert with single action in footer and no dismiss (close) button.<br/>
        Foo bar warning alert lorem ipsum dolar sit amet.
      </p>
    </div>
    <footer>
      <button type="button">Action</button>
    </footer>
  </div>
  <div role="alert">
    <div>
      <h3>Neutral</h3>
      <p>
        Alert without dismiss (close) button or actions in footer.
      </p>
    </div>
  </div>
  <div role="alert" className="success">
    <div>
      <h3>Success!</h3>
      <p>
        Alert with single link in footer and no dismiss (close) button.
      </p>
    </div>
    <footer>
      <a href="#">Take me somewhere</a>
    </footer>
  </div>
  </div>
</Canvas>



<!--
<Canvas>
  <div role="alert" className="alert-icon">
    <div>
      <h3>Success!</h3>
      <p>
        Alert with icon and single link in footer and no dismiss (close) button.
      </p>
    </div>
    <footer>
      <a href="#">Take me somewhere</a>
    </footer>
  </div>
</Canvas>
-->
