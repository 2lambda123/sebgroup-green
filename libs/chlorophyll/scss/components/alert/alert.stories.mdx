import { Meta, Story, Canvas } from '@storybook/addon-docs'

export const Template = ({
  type,
  heading,
  content,
  link,
  button,
  primaryButton,
  closeButton,
}) => `
  <div role="alert" class="${type}">
    <main>
      ${heading ?
        `<h3>${heading}</h3>` : ''
      }
      <p>
        ${content}
        ${link ? `<a href="#">${link}</a>.` : ''}
      </p>
    </main>
    ${closeButton ? `<button class="close" type="button"><span class="sr-only">Close</span></button>` : ''}
    ${button || primaryButton  ?
    `<footer>
        ${button ? `<button type="button">${button}</button>` : ''}
        ${primaryButton ? `<button type="button" class="primary">${primaryButton}</button>` : ''}
       </footer>` : ''
    }
  </div>
`

<Meta
  title="Components/Alert"
  parameters={{
    componentIds: ['component-alertribbon']
  }}
  argTypes={{
    type: {
      control: 'select',
      options: ['success', 'warning', 'danger', '', 'info'],
    },
    heading: { control: 'text' },
    content: { control: 'text' },
    link: { control: 'text' },
    button: { control: 'text' },
    primaryButton: { control: 'text' },
    closeButton: { control: 'boolean' },
  }}
/>

<style>{`
  [role="alert"] + [role="alert"] {
    margin-top: 1.5rem;
  }`}
</style>

# Alert

<Story
    name="example"
    args={{
      type: 'success',
      heading: 'Success!',
      content: 'Text content',
      link: 'inline link',
      button: '',
      primaryButton: '',
      closeButton: false
    }}
  >
    {Template.bind({})}
</Story>

<br/>

## Variants

Alerts are available in a number of different variants based on the intent of the alert. Please note that the colors used in the examples below are not final yet.

<Canvas>
  <div role="alert">
    Neutral (no class)
  </div>
  <div role="alert" class="info">
    Info
  </div>
  <div role="alert" class="success">
    Success
  </div>
  <div role="alert" class="warning">
    Warning
  </div>
  <div role="alert" class="danger">
    Danger
  </div>
</Canvas>

## Element structure

Alerts can contain the following elements:

**Main**<br/>
Content should be placed inside `<main>...</main>` and may in turn contain a heading `<h1>, <h2>, <h3>, <h4>, <h5>` and a `<p>` with additional content like links etc.

**Close button**<br/>
`<button class="close">...</button>` if the alert is dismissible.

**Footer** (optional)<br/>
If the alert has actions like buttons or links they should be placed inside a `<footer>...</footer>`.

<Canvas>
  <div>
    <div role="alert">
      <main>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </main>
      <button class="close"><span class="sr-only">Close</span></button>
      <footer>
        <button type="button">Default button</button>
        <button type="button" class="primary">Primary button</button>
      </footer>
    </div>
    <div role="alert" class="info">
      <main>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </main>
      <button class="close"><span class="sr-only">Close</span></button>
      <footer>
        <button type="button">Default button</button>
        <button type="button" class="primary">Primary button</button>
      </footer>
    </div>
    <div role="alert" class="success">
      <main>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </main>
      <button class="close"><span class="sr-only">Close</span></button>
      <footer>
        <button>Default button</button>
        <button class="primary">Primary button</button>
      </footer>
    </div>
    <div role="alert" class="warning">
      <main>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </main>
      <button class="close"><span class="sr-only">Close</span></button>
      <footer>
        <button>Default button</button>
        <button class="primary">Primary button</button>
      </footer>
    </div>
    <div role="alert" class="danger">
      <main>
        <h3>Heading!</h3>
        <p>
          Alert content placed inside a paragraph. Inline <a href="#">links</a> will inherit color from alert to make sure contrast is okay.
        </p>
      </main>
      <button class="close"><span class="sr-only">Close</span></button>
      <footer>
        <button>Default button</button>
        <button class="primary">Primary button</button>
      </footer>
    </div>
  </div>
</Canvas>


### More examples
<Canvas>
  <div>
  <div role="alert" class="warning">
    <main>
      <h3>Warning!</h3>
      <p>
        Alert with single action in footer and no dismiss (close) button.<br/>
        Foo bar warning alert lorem ipsum dolar sit amet.
      </p>
    </main>
    <footer>
      <button type="button">Action</button>
    </footer>
  </div>
  <div role="alert">
    <main>
      <h3>Neutral</h3>
      <p>
        Alert without dismiss (close) button or actions in footer.
      </p>
    </main>
  </div>
  <div role="alert" class="success">
    <main>
      <h3>Success!</h3>
      <p>
        Alert with single link in footer and no dismiss (close) button.
      </p>
    </main>
    <footer>
      <a href="#">Take me somewhere</a>
    </footer>
  </div>
  </div>
</Canvas>

<!--
<Canvas>
  <div role="alert" class="alert-icon">
    <main>
      <h3>Success!</h3>
      <p>
        Alert with icon and single link in footer and no dismiss (close) button.
      </p>
    </main>
    <footer>
      <a href="#">Take me somewhere</a>
    </footer>
  </div>
</Canvas>
-->
