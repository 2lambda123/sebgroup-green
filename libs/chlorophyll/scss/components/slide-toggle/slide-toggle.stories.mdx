import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks'
import { toggle } from './mock'

export const Template = ({ text, className }) => `
  <a href="#" class="${className}">${text}</a>
`

<Meta
  title="Components/SlideToggle"
/>

# Slide Toggle

The slide toggle is a representation of a physical switch that allows users to turn things on or off.
The slide toggle should be used when the user should be able to toggle a binary state of a setting or preference.

<Canvas>
  <span id="slide-toggle-label-1">Toggle me</span>
  <button class="slide-toggle" aria-pressed="false" onClick={toggle} aria-labelledby="slide-toggle-label-1"></button>
</Canvas>

## Accessibility

The slide toggle in Chlorophyll is represented by a button element with an `aria-pressed` state. This will prompt most
screen readers to announce it as a "toggle button", which should give visually impaired users a good idea of what kind
of control they are interacting with.

Another common way of representing a slide toggle is to use a styled checkbox. This has the benefit of not requiring any
JavaScript to make it interactive, but is somewhat detrimental to Accessibility since the screen reader will simply
annonce it as a checkbox and announce its state as "checked" or "not checked". This may confuse the user, as checkboxes
are typically part of a form that needs to be submitted, whereas a slide toggle is typically used for a setting that has
immidiate effect.

### Labelling

If there is a short descriptive text next to the slide toggle, be sure to connect it as a label to the button:
```html
<span id="cookies-label-1">Enable cookies</span>
<button class="slide-toggle" aria-pressed="false" onClick={toggle} aria-labelledby="cookies-label-1"></button>
```

Sometimes, it may be visually obvious what the toggle does even though there is no text snippet in its immidiate vicinity.
In this case, add a short descriptive label using the `aria-label` attribute:
```html
<button class="slide-toggle" aria-pressed="false" onClick={toggle} aria-label="Enable cookies"></button>
```

**Do not** change the label with the state of the toggle button, as this would be confusing to screen reader users.
If you have an additional label that reads "off" and changes to "on", or similar, regard this as a visual only complement
and do not try to announce this text to a screen reader. The `aria-pressed` attribute already takes care of this for you.